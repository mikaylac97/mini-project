{"ast":null,"code":"import _classCallCheck from\"/Users/mikaylacastro/code/ironhackpt2020/module3/mini-proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mikaylacastro/code/ironhackpt2020/module3/mini-proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mikaylacastro/code/ironhackpt2020/module3/mini-proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mikaylacastro/code/ironhackpt2020/module3/mini-proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Favorites from'./Favorites';import'../App.css';import{Link}from'react-router-dom';var Details=/*#__PURE__*/function(_Component){_inherits(Details,_Component);var _super=_createSuper(Details);function Details(){var _this;_classCallCheck(this,Details);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={image_url:'',tracks:[],description:'',name:'',owner:'',total_songs:0,playlist_link:''};_this.getSinglePlaylist=function(){var params=_this.props.match.params;axios.get(\"http://localhost:4000/api/playlists/\".concat(params.id)).then(function(responseFromAPI){console.log(responseFromAPI.data.body);_this.setState({image_url:responseFromAPI.data.body.images[0].url,tracks:responseFromAPI.data.body.tracks.items,description:responseFromAPI.data.body.description,name:responseFromAPI.data.body.name,owner:responseFromAPI.data.body.owner.display_name,total_songs:responseFromAPI.data.body.tracks.total,playlist_link:responseFromAPI.data.body.external_urls.spotify});}).catch(function(err){return console.log(err);});};_this.millisToMinutesAndSeconds=function(millis){var minutes=Math.floor(millis/60000);var seconds=(millis%60000/1000).toFixed(0);return minutes+\":\"+(seconds<10?'0':'')+seconds;};return _this;}_createClass(Details,[{key:\"componentDidMount\",value:function componentDidMount(){this.getSinglePlaylist();}},{key:\"render\",value:function render(){var _this2=this;var descriptionNoCover=this.state.description.split('Cover');return/*#__PURE__*/React.createElement(\"div\",{className:\"container-desktop\"},/*#__PURE__*/React.createElement(\"nav\",{class:\"navbar navbar-expand-lg navbar-light fixed-top\",id:\"mainNav\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Link,{to:\"/playlists\",className:\"navbar-brand home-btn\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Home\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"details-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"playlist-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hover-ctrl container\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.image_url,alt:\"playlist-cover\",className:\"image\"}),/*#__PURE__*/React.createElement(Favorites,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"playlist-details-txt\"},/*#__PURE__*/React.createElement(\"a\",{href:this.state.playlist_link,className:\"playlist-link\"},/*#__PURE__*/React.createElement(\"h2\",null,this.state.name)),/*#__PURE__*/React.createElement(\"p\",null,descriptionNoCover[0]),/*#__PURE__*/React.createElement(\"p\",null,\"Created by \",/*#__PURE__*/React.createElement(\"b\",null,this.state.owner),\" - \",this.state.total_songs,\" Tracks\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"details-table\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"#\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Title\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Artist\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Album\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Time\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.tracks.map(function(track,i){var _track$track,_track$track2,_track$track2$album,_track$track2$album$a,_track$track3,_track$track3$album;return/*#__PURE__*/React.createElement(\"tr\",{key:i,className:\"table-rows\"},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},i+1),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:track.track.external_urls.spotify,className:\"playlist-links\"},track===null||track===void 0?void 0:(_track$track=track.track)===null||_track$track===void 0?void 0:_track$track.name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:track.track.artists[0].external_urls.spotify,className:\"playlist-links\"},track===null||track===void 0?void 0:(_track$track2=track.track)===null||_track$track2===void 0?void 0:(_track$track2$album=_track$track2.album)===null||_track$track2$album===void 0?void 0:(_track$track2$album$a=_track$track2$album.artists[0])===null||_track$track2$album$a===void 0?void 0:_track$track2$album$a.name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:track.track.album.external_urls.spotify,className:\"playlist-links\"},track===null||track===void 0?void 0:(_track$track3=track.track)===null||_track$track3===void 0?void 0:(_track$track3$album=_track$track3.album)===null||_track$track3$album===void 0?void 0:_track$track3$album.name)),/*#__PURE__*/React.createElement(\"td\",null,_this2.millisToMinutesAndSeconds(track.track.duration_ms)));}))))));}}]);return Details;}(Component);export{Details as default};","map":{"version":3,"sources":["/Users/mikaylacastro/code/ironhackpt2020/module3/mini-proj/client/src/components/Details.js"],"names":["React","Component","axios","Favorites","Link","Details","state","image_url","tracks","description","name","owner","total_songs","playlist_link","getSinglePlaylist","params","props","match","get","id","then","responseFromAPI","console","log","data","body","setState","images","url","items","display_name","total","external_urls","spotify","catch","err","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","descriptionNoCover","split","map","track","i","artists","album","duration_ms"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport Favorites from './Favorites'\nimport '../App.css'\nimport {  Link  } from 'react-router-dom'\n\nexport default class Details extends Component {\n\n    state = {\n        image_url: '',\n        tracks: [],\n        description: '',\n        name: '',\n        owner: '',\n        total_songs: 0,\n        playlist_link: ''\n    }\n\n    componentDidMount() {\n        this.getSinglePlaylist();\n    }\n\n    getSinglePlaylist = () => {\n        const { params } = this.props.match;\n        axios\n            .get(`http://localhost:4000/api/playlists/${params.id}`)\n            .then(responseFromAPI => {\n                console.log(responseFromAPI.data.body)\n                this.setState({\n                    image_url: responseFromAPI.data.body.images[0].url,\n                    tracks: responseFromAPI.data.body.tracks.items,\n                    description: responseFromAPI.data.body.description,\n                    name: responseFromAPI.data.body.name,\n                    owner: responseFromAPI.data.body.owner.display_name,\n                    total_songs: responseFromAPI.data.body.tracks.total,\n                    playlist_link: responseFromAPI.data.body.external_urls.spotify\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    millisToMinutesAndSeconds = (millis) => {\n        var minutes = Math.floor(millis / 60000);\n        var seconds = ((millis % 60000) / 1000).toFixed(0);\n        return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\n    }\n\n\n\n\n\n    render() {\n        const descriptionNoCover = this.state.description.split('Cover')\n        return (\n        <div className='container-desktop'>\n                <nav class='navbar navbar-expand-lg navbar-light fixed-top' id='mainNav'>\n                    <div className='container'>\n                    <Link to='/playlists' className=\"navbar-brand home-btn\"><h3>Home</h3></Link>\n                    </div>\n                </nav>\n        <div className='details-body'>\n            <div className='playlist-details'>\n                <div className='hover-ctrl container'>\n                    <img src={this.state.image_url} alt='playlist-cover' className='image'/>\n                    <Favorites />\n                </div>\n                <div className='playlist-details-txt'>\n                <a href={this.state.playlist_link} className='playlist-link'><h2>{this.state.name}</h2></a>\n                    <p>{descriptionNoCover[0]}</p>\n                    <p>Created by <b>{this.state.owner}</b> - {this.state.total_songs} Tracks</p>\n                </div>\n            </div>  \n<div className='details-table'>\n<table className=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Title</th>\n      <th scope=\"col\">Artist</th>\n      <th scope=\"col\">Album</th>\n      <th scope='col'>Time</th>\n    </tr>\n  </thead>\n  <tbody>\n   {this.state.tracks.map((track, i) => {\n       return (\n           \n               <tr key={i} className='table-rows'>\n                   <th scope='row'>{i+1}</th>\n                   <td><a href={track.track.external_urls.spotify} className='playlist-links'>{track?.track?.name}</a></td>\n                   <td><a href={track.track.artists[0].external_urls.spotify} className='playlist-links'>{track?.track?.album?.artists[0]?.name}</a></td>\n                   <td><a href={track.track.album.external_urls.spotify} className='playlist-links'>{track?.track?.album?.name}</a></td>\n                   <td>{this.millisToMinutesAndSeconds(track.track.duration_ms)}</td>\n               </tr>\n           \n       )\n   })}\n  </tbody>\n</table>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}